<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice de Rentabilit√© Immobili√®re</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #121212; color: #ffffff; }
        .container { display: flex; justify-content: space-between; max-width: 1200px; margin: auto; }
        .panel { width: 45%; background: #1e1e1e; padding: 20px; border-radius: 10px; box-shadow: 0 0 15px rgba(255, 255, 255, 0.2); }
        .panel label, .panel input, .panel button { display: block; width: 100%; margin-bottom: 10px; }
        .panel input { background: #333; color: #fff; border: 1px solid #555; padding: 10px; border-radius: 5px; }
        .panel button { background: #28a745; color: white; border: none; padding: 12px; cursor: pointer; border-radius: 5px; font-size: 16px; }
        .panel button:hover { background: #218838; }
        .panel h3 { margin-top: 0; }

        .result { font-weight: bold; margin-top: 20px; text-align: center; font-size: 18px; }
        .right-panel { width: 50%; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #222; border-radius: 10px; overflow: hidden; }
        th, td { border: 1px solid #444; padding: 12px; text-align: center; }
        th { background-color: #007BFF; color: white; }
        .good { background-color: #28a745; }
        .bad { background-color: #dc3545; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Panel gauche avec les param√®tres -->
        <div class="panel">
            <h3>‚öôÔ∏è Param√®tres de calcul</h3>
            <label>* Montant du bien (‚Ç¨) : <input type="number" id="montantBien" value="135000"></label>
            <label>* Loyer mensuel (‚Ç¨) : <input type="number" id="loyerMensuel" value="875"></label>
            <label>* Taxe fonci√®re (‚Ç¨) : <input type="number" id="taxeFonc" value="1000"></label>
            <label>Charges annuelles (‚Ç¨) : <input type="number" id="chargesAnn" value="0"></label>
            <label>* Apport initial (‚Ç¨) : <input type="number" id="apport" value="10000"></label>
            <label>* Taux d'int√©r√™t annuel (%) : <input type="number" id="tauxInteret" value="3.2"></label>
            <label>* Dur√©e du pr√™t (ann√©es) : <input type="number" id="dureePret" value="25"></label>
            <button onclick="calculerRentabilite()">üí∞ Calculer</button>
        </div>

        <!-- Panel droit avec r√©sum√© et tableau -->
        <div class="right-panel">
            <div class="result" id="resultat"></div>
            <h3>üìä Tableau de rentabilit√©</h3>
            <table>
                <thead>
                    <tr>
                        <th>Prix du Bien (‚Ç¨)</th>
                        <th>Rendement Brut (%)</th>
                        <th>Rendement Net (%)</th>
                        <th>Cashflow (‚Ç¨)</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
            <div class="result" id="resultatPrix"></div>
        </div>
    </div>

    <script>
        function calculerRentabilite() {
            let montantBien = parseFloat(document.getElementById('montantBien').value);
            let loyerMensuel = parseFloat(document.getElementById('loyerMensuel').value);
            let taxeFonc = parseFloat(document.getElementById('taxeFonc').value);
            let chargesAnn = parseFloat(document.getElementById('chargesAnn').value);
            let apport = parseFloat(document.getElementById('apport').value);
            let tauxInteret = parseFloat(document.getElementById('tauxInteret').value) / 100;
            let dureePret = parseInt(document.getElementById('dureePret').value);

            let loyerAnnuel = loyerMensuel * 12;
            let montantEmprunte = montantBien - apport;
            let mensualite = (montantEmprunte * (tauxInteret / 12)) / (1 - Math.pow(1 + (tauxInteret / 12), -dureePret * 12));
            let cashflow = (loyerMensuel - (mensualite + (taxeFonc / 12) + (chargesAnn / 12))).toFixed(2);

            document.getElementById('resultat').innerHTML = `
                <p>‚úÖ Rendement Brut : ${(loyerAnnuel / montantBien * 100).toFixed(2)}%</p>
                <p>‚úÖ Rendement Net : ${((loyerAnnuel - taxeFonc - chargesAnn) / montantBien * 100).toFixed(2)}%</p>
                <p>üìâ Mensualit√© du pr√™t : ${mensualite.toFixed(2)} ‚Ç¨</p>
                <p>üíµ Cashflow mensuel : ${cashflow} ‚Ç¨</p>
            `;
            
            let tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            for (let i = montantBien; i >= montantBien * 0.8; i -= 2500) {
                let rendementB = (loyerAnnuel / i) * 100;
                let rendementN = ((loyerAnnuel - taxeFonc - chargesAnn) / i) * 100;
                let className = rendementB >= 10 ? 'good' : rendementB < 5 ? 'bad' : '';
                tableBody.innerHTML += `<tr class="${className}"><td>${i.toFixed(2)}</td><td>${rendementB.toFixed(2)}%</td><td>${rendementN.toFixed(2)}%</td><td>${cashflow} ‚Ç¨</td></tr>`;
            }
        }

        function calculerPrixVoulue() {
            let rendementVoulue = parseFloat(document.getElementById('rendementVoulue').value) / 100;
            let loyerAnnuel = parseFloat(document.getElementById('loyerMensuel').value) * 12;
            let prixVoulue = loyerAnnuel / rendementVoulue;
            document.getElementById('resultatPrix').innerHTML = `üéØ Prix du bien estim√© : ${prixVoulue.toFixed(2)} ‚Ç¨`;
        }
    </script>
</body>
</html>
