<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculatrice de RentabilitÃ© ImmobiliÃ¨re</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #121212; color: #ffffff; text-align: center; }
        .container { max-width: 800px; margin: auto; background: #1e1e1e; padding: 20px; border-radius: 10px; box-shadow: 0 0 15px rgba(255, 255, 255, 0.2); }
        label, input, button { display: block; width: 100%; margin-bottom: 10px; }
        input { background: #333; color: #fff; border: 1px solid #555; padding: 10px; border-radius: 5px; }
        button { background: #28a745; color: white; border: none; padding: 12px; cursor: pointer; border-radius: 5px; font-size: 16px; }
        button:hover { background: #218838; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #222; border-radius: 10px; overflow: hidden; }
        th, td { border: 1px solid #444; padding: 12px; text-align: center; }
        th { background-color: #007BFF; color: white; }
        .good { background-color: #28a745; }
        .bad { background-color: #dc3545; }
        .result { font-weight: bold; margin-top: 20px; text-align: center; font-size: 18px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>ðŸ“ˆ Calculatrice de RentabilitÃ© ImmobiliÃ¨re</h2>
        <label>Montant du bien (â‚¬) : <input type="number" id="montantBien" value="135000"></label>
        <label>Loyer mensuel (â‚¬) : <input type="number" id="loyerMensuel" value="875"></label>
        <label>Taxe fonciÃ¨re (â‚¬) : <input type="number" id="taxeFonc" value="1000"></label>
        <label>Charges annuelles (â‚¬) : <input type="number" id="chargesAnn" value="0"></label>
        <label>Apport initial (â‚¬) : <input type="number" id="apport" value="10000"></label>
        <label>Taux d'intÃ©rÃªt annuel (%) : <input type="number" id="tauxInteret" value="3.2"></label>
        <label>DurÃ©e du prÃªt (annÃ©es) : <input type="number" id="dureePret" value="25"></label>
        <button onclick="calculerRentabilite()">ðŸ’° Calculer</button>
        <div class="result" id="resultat"></div>

        <h3>ðŸ“Š Tableau de rentabilitÃ©</h3>
        <table>
            <thead>
                <tr>
                    <th>Prix du Bien (â‚¬)</th>
                    <th>Rendement Brut (%)</th>
                    <th>Rendement Net (%)</th>
                    <th>Cashflow (â‚¬)</th>
                </tr>
            </thead>
            <tbody id="tableBody"></tbody>
        </table>
    </div>

    <script>
        function calculerRentabilite() {
            let montantBien = parseFloat(document.getElementById('montantBien').value);
            let loyerMensuel = parseFloat(document.getElementById('loyerMensuel').value);
            let taxeFonc = parseFloat(document.getElementById('taxeFonc').value);
            let chargesAnn = parseFloat(document.getElementById('chargesAnn').value);
            let apport = parseFloat(document.getElementById('apport').value);
            let tauxInteret = parseFloat(document.getElementById('tauxInteret').value) / 100;
            let dureePret = parseInt(document.getElementById('dureePret').value);

            let loyerAnnuel = loyerMensuel * 12;
            let montantEmprunte = montantBien - apport;
            let mensualite = (montantEmprunte * (tauxInteret / 12)) / (1 - Math.pow(1 + (tauxInteret / 12), -dureePret * 12));
            let cashflow = (loyerMensuel - (mensualite + (taxeFonc / 12) + (chargesAnn / 12))).toFixed(2);

            document.getElementById('resultat').innerHTML = 
                <p>âœ… Rendement Brut : ${(loyerAnnuel / montantBien * 100).toFixed(2)}%</p>
                <p>âœ… Rendement Net : ${((loyerAnnuel - taxeFonc - chargesAnn) / montantBien * 100).toFixed(2)}%</p>
                <p>ðŸ“‰ MensualitÃ© du prÃªt : ${mensualite.toFixed(2)} â‚¬</p>
                <p>ðŸ’µ Cashflow mensuel : ${cashflow} â‚¬</p>
            ;
            
            let tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            for (let i = montantBien; i >= montantBien * 0.8; i -= 2500) {
                let rendementB = (loyerAnnuel / i) * 100;
                let rendementN = ((loyerAnnuel - taxeFonc - chargesAnn) / i) * 100;
                let className = rendementB >= 10 ? 'good' : rendementB < 5 ? 'bad' : '';
                tableBody.innerHTML += <tr class="${className}"><td>${i.toFixed(2)}</td><td>${rendementB.toFixed(2)}%</td><td>${rendementN.toFixed(2)}%</td><td>${cashflow} â‚¬</td></tr>;
            }
        }

        function calculerPrixVoulue() {
            let rendementVoulue = parseFloat(document.getElementById('rendementVoulue').value) / 100;
            let loyerAnnuel = parseFloat(document.getElementById('loyerMensuel').value) * 12;
            let prixVoulue = loyerAnnuel / rendementVoulue;
            document.getElementById('resultatPrix').innerHTML = ðŸŽ¯ Prix du bien estimÃ© : ${prixVoulue.toFixed(2)} â‚¬;
        }
    </script>
</body>
</html>
